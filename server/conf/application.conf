authentication.encryptionKey = "FMsZatMIFcm4o]lQOo43P1URLNW_GCIyTqtnNL/0e_3b=wUP?xWgyM[p:uiTaaBx"

play {
  modules.enabled += "uk.gov.ons.addressIndex.server.modules.SystemBootstrapModule"
  crypto.secret = "FMsZatMIFcm4o]lQOo43P1URLNW_GCIyTqtnNL/0e_3b=wUP?xWgyM[p:uiTaaBx"
  i18n.langs = ["en"]
  http {
    requestHandler = "play.api.http.DefaultHttpRequestHandler"
  }
}

addressIndex {
  runMode = "dev"
  parserLibPath = "/parsers/src/main/resources"
  parserLibPath = ${?ONS_AI_LIBRARY_PATH}
  elasticSearch {
    local = false
    cluster = "e18c899a76f80d5ed90149aa864bc760"
    cluster = ${?ONS_AI_API_ES_CLUSTER_NAME}
    // if you are using a remote server over SSL, try to use port 9343
    uri = "elasticsearch://e18c899a76f80d5ed90149aa864bc760.eu-west-1.aws.found.io:9343"
    uri = ${?ONS_AI_API_ES_URI}
    shield {
      user = "admin"
      user = ${?ONS_AI_API_SHIELD_USER}
      password = "1pwnuk3ui89qllpci0"
      password = ${?ONS_AI_API_SHIELD_PASSWORD}
      ssl = true
      ssl = ${?ONS_AI_API_SHIELD_SSL}
    }
    indexes {
      hybridIndex = "hybrid/address"
      hybridIndex = ${?ONS_AI_API_HYBRID_INDEX}
    }
    queryParams {
      subBuildingName {
        lpiSaoStartNumberBoost = 1.0
        lpiSaoStartNumberBoost = ${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_START_NUMBER_BOOST}
        lpiSaoStartSuffixBoost = 1.0
        lpiSaoStartSuffixBoost = ${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_START_SUFFIX_BOOST}
        lpiSaoEndNumberBoost = 1.0
        lpiSaoEndNumberBoost = ${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_END_NUMBER_BOOST}
        lpiSaoEndSuffixBoost = 1.0
        lpiSaoEndSuffixBoost = ${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_END_SUFFIX_BOOST}
        pafSubBuildingNameBoost = 1.0
        pafSubBuildingNameBoost = ${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_PAF_SUB_BUILDING_NAME_BOOST}
        lpiSaoTextBoost = 1.0
        lpiSaoTextBoost = ${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_TEXT_BOOST}
      }
      buildingName {
        lpiPaoStartNumberBoost = 1.0
        lpiPaoStartNumberBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiPaoStartSuffixBoost = 1.0
        lpiPaoStartSuffixBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiPaoEndNumberBoost = 1.0
        lpiPaoEndNumberBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiPaoEndSuffixBoost = 1.0
        lpiPaoEndSuffixBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafSubBuildingNameBoost = 1.0
        pafSubBuildingNameBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiPaoTextBoost = 1.0
        lpiPaoTextBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      buildingNumber {
        pafBuildingNumberBoost = 1.0
        pafBuildingNumberBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiPaoStartNumberBoost = 1.0
        lpiPaoStartNumberBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      streetName {
        pafThoroughfareBoost = 1.0
        pafThoroughfareBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafWelshThoroughfareBoost = 1.0
        pafWelshThoroughfareBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafDependentThoroughfareBoost = 1.0
        pafDependentThoroughfareBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafWelshDependentThoroughfareBoost = 0.5
        pafWelshDependentThoroughfareBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiStreetDescriptorBoost = 0.5
        lpiStreetDescriptorBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      townName {
        pafPostTownBoost = 1.0
        pafPostTownBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafWelshPostTownBoost = 1.0
        pafWelshPostTownBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiTownNameBoost = 1.0
        lpiTownNameBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafDependentLocalityBoost = 0.5
        pafDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafWelshDependentLocalityBoost = 0.5
        pafWelshDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiLocalityBoost = 0.5
        lpiLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafDoubleDependentLocalityBoost = 0.2
        pafDoubleDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafWelshDoubleDependentLocalityBoost = 0.2
        pafWelshDoubleDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      postcode {
        pafPostcodeBoost = 1.0
        pafPostcodeBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiPostcodeLocatorBoost = 1.0
        lpiPostcodeLocatorBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafOutcodeBoost = 0.8
        pafOutcodeBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafIncodeBoost = 0.3
        pafIncodeBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      organisationName {
        pafOrganisationNameBoost = 1.0
        pafOrganisationNameBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiOrganisationBoost = 1.0
        lpiOrganisationBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiPaoTextBoost = 1.0
        lpiPaoTextBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiLegalNameBoost = 1.0
        lpiLegalNameBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiSaoTextBoost = 0.5
        lpiSaoTextBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      departmentName {
        departmentNamePafDepartmentNameBoost = 1.0
        departmentNamePafDepartmentNameBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        departmentNameLpiLegalNameBoost = 0.5
        departmentNameLpiLegalNameBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      locality {
        pafDependentLocalityBoost = 1.0
        pafDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        PafWelshDependentLocalityBoost = 1.0
        pafWelshDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        lpiLocalityBoost = 1.0
        lpiLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafDoubleDependentLocalityBoost = 0.5
        pafDoubleDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
        pafWelshDoubleDependentLocalityBoost = 0.5
        pafWelshDoubleDependentLocalityBoost = ${?ONS_AI_API_QUERY_PAO_START_NUMBER_BUILDING_NUMBER_LPI_BOOST}
      }
      defaultBoost=1.0
      underlineAllBoost=${?ONS_AI_API_QUERY_DEFAULT_BOOST}

      minimumShouldMatch="45%"
      minimumShouldMatch=${?ONS_AI_API_QUERY_MINIMUM_SHOULD_MATCH}
    }
    defaultLimit=10
    defaultOffset=0
    maximumLimit=100
    maximumOffset=1000
  }
  bulk{
    batch{
      perBatch=100
      perBatch=${?ONS_AI_API_BULK_REQUESTS_PER_BATCH}
      upscale=1.1
      upscale=${?ONS_AI_API_BULK_REQUESTS_MINI_BATCH_UPSCALE}
      downscale=0.8
      downscale=${?ONS_AI_API_BULK_REQUESTS_MINI_BATCH_DOWNSCALE}
      warningThreshold=0.25
      warningThreshold=${?ONS_AI_API_BULK_REQUESTS_MINI_BATCH_SIZE_WARNING_THRESHOLD}
    }
    limitPerAddress = 5
  }
}

// maximum size of the POST request (server configuration)
parsers.text.maxLength = 100000k
parsers.text.maxLength = ${?ONS_AI_API_BULK_MAX_POST_SIZE}

log.trace.output = off
logger.play=INFO
logger.application=INFO
