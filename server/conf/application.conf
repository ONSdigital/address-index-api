authentication.encryptionKey = "FMsZatMIFcm4o]lQOo43P1URLNW_GCIyTqtnNL/0e_3b=wUP?xWgyM[p:uiTaaBx"

play {
  modules.enabled += "uk.gov.ons.addressIndex.server.modules.SystemBootstrapModule"
  crypto.secret = "FMsZatMIFcm4o]lQOo43P1URLNW_GCIyTqtnNL/0e_3b=wUP?xWgyM[p:uiTaaBx"
  i18n.langs = ["en"]
  http {
    requestHandler = "play.api.http.DefaultHttpRequestHandler"
  }
}

addressIndex {
  runMode = "dev"
  parserLibPath = "/parsers/src/main/resources"
  parserLibPath = ${?ONS_AI_LIBRARY_PATH}
  elasticSearch {
    local = false
    cluster = "fea7c0da60019162c7fc9c72680b2d6a"
    cluster = ${?ONS_AI_API_ES_CLUSTER_NAME}
    // if you are using a remote server over SSL, try to use port 9343
    uri = "elasticsearch://fea7c0da60019162c7fc9c72680b2d6a.us-east-1.aws.found.io:9343"
    uri = ${?ONS_AI_API_ES_URI}
    shield {
      user = "admin"
      user = ${?ONS_AI_API_SHIELD_USER}
      password = "1pwnuk3ui89qllpci0"
      password = ${?ONS_AI_API_SHIELD_PASSWORD}
      ssl = true
      ssl = ${?ONS_AI_API_SHIELD_SSL}
    }
    indexes {
      hybridIndex = "test3/address"
      hybridIndex = ${?ONS_AI_API_HYBRID_INDEX}
    }
    queryParams {
      subBuildingName {
        lpiSaoStartNumberBoost=1.0
        lpiSaoStartNumberBoost=${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_START_NUMBER_BOOST}
        lpiSaoStartSuffixBoost=1.0
        lpiSaoStartSuffixBoost=${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_START_SUFFIX_BOOST}
        lpiSaoEndNumberBoost=1.0
        lpiSaoEndNumberBoost=${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_END_NUMBER_BOOST}
        lpiSaoEndSuffixBoost=1.0
        lpiSaoEndSuffixBoost=${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_END_SUFFIX_BOOST}
        pafSubBuildingNameBoost=1.5
        pafSubBuildingNameBoost=${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_PAF_SUB_BUILDING_NAME_BOOST}
        lpiSaoTextBoost=1.5
        lpiSaoTextBoost=${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_TEXT_BOOST}
      }
      buildingName {
        lpiPaoStartNumberBoost=2.5
        lpiPaoStartNumberBoost=${?ONS_AI_API_QUERY_BUILDING_NAME_LPI_PAO_START_NUMBER_BOOST}
        lpiPaoStartSuffixBoost=3.5
        lpiPaoStartSuffixBoost=${?ONS_AI_API_QUERY_BUILDING_NAME_LPI_PAO_START_SUFFIX_BOOST}
        lpiPaoEndNumberBoost=2.5
        lpiPaoEndNumberBoost=${?ONS_AI_API_QUERY_BUILDING_NAME_LPI_PAO_END_NUMBER_BOOST}
        lpiPaoEndSuffixBoost=2.5
        lpiPaoEndSuffixBoost=${?ONS_AI_API_QUERY_BUILDING_NAME_LPI_PAO_END_SUFFIX_BOOST}
        pafBuildingNameBoost=2.5
        pafBuildingNameBoost=${?ONS_AI_API_QUERY_BUILDING_NAME_PAF_BUILDING_NAME_BOOST}
        lpiPaoTextBoost=2.5
        lpiPaoTextBoost=${?ONS_AI_API_QUERY_SUB_BUILDING_NAME_LPI_SAO_TEXT_BOOST}
      }
      buildingNumber {
        pafBuildingNumberBoost=2.0
        pafBuildingNumberBoost=${?ONS_AI_API_QUERY_BUILDING_NUMBER_PAF_BUILDING_NUMBER_BOOST}
        lpiPaoStartNumberBoost=2.0
        lpiPaoStartNumberBoost=${?ONS_AI_API_QUERY_BUILDING_NUMBER_LPI_PAO_START_NUMBER_BOOST}
      }
      streetName {
        pafThoroughfareBoost=2.0
        pafThoroughfareBoost=${?ONS_AI_API_QUERY_STREET_NAME_PAF_THOROUGHFARE_BOOST}
        pafWelshThoroughfareBoost=2.0
        pafWelshThoroughfareBoost=${?ONS_AI_API_QUERY_STREET_NAME_PAF_WELSH_THOROUGHFARE_BOOST}
        pafDependentThoroughfareBoost=0.5
        pafDependentThoroughfareBoost=${?ONS_AI_API_QUERY_STREET_NAME_PAF_DEPENDENT_THOROUGHFARE_BOOST}
        pafWelshDependentThoroughfareBoost=0.5
        pafWelshDependentThoroughfareBoost=${?ONS_AI_API_QUERY_STREET_NAME_PAF_WELSH_DEPENDENT_THOROUGHFARE_BOOST}
        lpiStreetDescriptorBoost=2.0
        lpiStreetDescriptorBoost=${?ONS_AI_API_QUERY_STREET_NAME_LPI_STREET_DESCRIPTOR_BOOST}
      }
      townName {
        pafPostTownBoost=1.0
        pafPostTownBoost=${?ONS_AI_API_QUERY_TOWN_NAME_PAF_POST_TOWN_BOOST}
        pafWelshPostTownBoost=1.0
        pafWelshPostTownBoost=${?ONS_AI_API_QUERY_TOWN_NAME_PAF_WELSH_POST_TOWN_BOOST}
        lpiTownNameBoost=1.0
        lpiTownNameBoost=${?ONS_AI_API_QUERY_TOWN_NAME_LPI_TOWN_NAME_BOOST}
        pafDependentLocalityBoost=0.5
        pafDependentLocalityBoost=${?ONS_AI_API_QUERY_TOWN_NAME_PAF_DEPENDENT_LOCALITY_BOOST}
        pafWelshDependentLocalityBoost=0.5
        pafWelshDependentLocalityBoost=${?ONS_AI_API_QUERY_TOWN_NAME_PAF_WELSH_DEPENDENT_LOCALITY_BOOST}
        lpiLocalityBoost=0.5
        lpiLocalityBoost=${?ONS_AI_API_QUERY_TOWN_NAME_LPI_LOCALITY_BOOST}
        pafDoubleDependentLocalityBoost=0.2
        pafDoubleDependentLocalityBoost=${?ONS_AI_API_QUERY_TOWN_NAME_PAF_DOUBLE_DEPENDENT_LOCALITY_BOOST}
        pafWelshDoubleDependentLocalityBoost=0.2
        pafWelshDoubleDependentLocalityBoost=${?ONS_AI_API_QUERY_TOWN_NAME_PAF_WELSH_DOUBLE_DEPENDENT_LOCALITY_BOOST}
      }
      postcode {
        pafPostcodeBoost=1.0
        pafPostcodeBoost=${?ONS_AI_API_QUERY_POSTCODE_PAF_POSTCODE_BOOST}
        lpiPostcodeLocatorBoost=1.0
        lpiPostcodeLocatorBoost=${?ONS_AI_API_QUERY_POSTCODE_LPI_POSTCODELOCATOR_BOOST}
        postcodeInOutBoost=0.8
        postcodeInOutBoost=${?ONS_AI_API_QUERY_POSTCODE_PAF_INCODE_BOOST}
        postcodeOutBoost=0.8
        postcodeOutBoost=${?ONS_AI_API_QUERY_POSTCODE_PAF_OUTCODE_BOOST}
        postcodeInBoost=0.3
        postcodeInBoost=${?ONS_AI_API_QUERY_POSTCODE_PAF_INCODE_BOOST}
      }
      organisationName {
        pafOrganisationNameBoost=1.0
        pafOrganisationNameBoost=${?ONS_AI_API_QUERY_ORGANISATION_NAME_PAF_ORIGANISATION_NAME_BOOST}
        lpiOrganisationBoost=1.0
        lpiOrganisationBoost=${?ONS_AI_API_QUERY_ORGANISATION_NAME_LPI_ORIGANISATION_BOOST}
        lpiPaoTextBoost=1.0
        lpiPaoTextBoost=${?ONS_AI_API_QUERY_ORGANISATION_NAME_LPI_PAO_TEXT_BOOST}
        lpiLegalNameBoost=1.0
        lpiLegalNameBoost=${?ONS_AI_API_QUERY_ORGANISATION_NAME_LPI_LEGALNAME_BOOST}
        lpiSaoTextBoost=0.5
        lpiSaoTextBoost=${?ONS_AI_API_QUERY_ORGANISATION_NAME_LPI_SAO_TEXT_BOOST}
      }
      departmentName {
        pafDepartmentNameBoost=1.0
        pafDepartmentNameBoost=${?ONS_AI_API_QUERY_DEPARTMENT_NAME_PAF_DEPARTMENT_NAME_BOOST}
        lpiLegalNameBoost=0.5
        lpiLegalNameBoost=${?ONS_AI_API_QUERY_DEPARTMENT_NAME_LPI_LEGAL_NAME_BOOST}
      }
      locality {
        pafPostTownBoost=0.2
        pafPostTownBoost=${?ONS_AI_API_QUERY_LOCALITY_PAF_POST_TOWN_BOOST}
        pafWelshPostTownBoost=0.2
        pafWelshPostTownBoost=${?ONS_AI_API_QUERY_LOCALITY_PAF_WELSH_POST_TOWN_BOOST}
        lpiTownNameBoost=0.2
        lpiTownNameBoost=${?ONS_AI_API_QUERY_LOCALITY_LPI_TOWN_NAME_BOOST}
        pafDependentLocalityBoost=0.5
        pafDependentLocalityBoost=${?ONS_AI_API_QUERY_LOCALITY_PAF_DEPENDENT_LOCALITY_BOOST}
        pafWelshDependentLocalityBoost=0.5
        pafWelshDependentLocalityBoost=${?ONS_AI_API_QUERY_LOCALITY_PAF_WELSH_DEPENDENT_LOCALITY_BOOST}
        lpiLocalityBoost=0.5
        lpiLocalityBoost=${?ONS_AI_API_QUERY_LOCALITY_LPI_LOCALITY_BOOST}
        pafDoubleDependentLocalityBoost=0.3
        pafDoubleDependentLocalityBoost=${?ONS_AI_API_QUERY_LOCALITY_PAF_DOUBLE_DEPENDENT_LOCALITY_BOOST}
        pafWelshDoubleDependentLocalityBoost=0.3
        pafWelshDoubleDependentLocalityBoost=${?ONS_AI_API_QUERY_LOCALITY_PAF_WELSH_DOUBLE_DEPENDENT_LOCALITY_BOOST}
      }
      disMaxTieBreaker=0.0
      disMaxTieBreaker=${?ONS_AI_API_QUERY_TIE_BREAKER_BOOST}
      allBoost=0.2
      allBoost=${?ONS_AI_API_QUERY_ALL_BOOST}
      defaultBoost=1.0
      defaultBoost=${?ONS_AI_API_QUERY_DEFAULT_BOOST}
      mainMinimumShouldMatch="-35%"
      mainMinimumShouldMatch=${?ONS_AI_API_QUERY_MAIN_MINIMUM_SHOULD_MATCH}
      fallbackMinimumShouldMatch="-25%"
      fallbackMinimumShouldMatch=${?ONS_AI_API_QUERY_FALLBACK_MINIMUM_SHOULD_MATCH}
    }
    defaultLimit=10
    defaultOffset=0
    maximumLimit=100
    maximumOffset=1000
  }
  bulk{
    batch{
      perBatch=100
      perBatch=${?ONS_AI_API_BULK_REQUESTS_PER_BATCH}
      upscale=1.1
      upscale=${?ONS_AI_API_BULK_REQUESTS_MINI_BATCH_UPSCALE}
      downscale=0.8
      downscale=${?ONS_AI_API_BULK_REQUESTS_MINI_BATCH_DOWNSCALE}
      warningThreshold=0.25
      warningThreshold=${?ONS_AI_API_BULK_REQUESTS_MINI_BATCH_SIZE_WARNING_THRESHOLD}
    }
    limitPerAddress = 5
  }
}

// maximum size of the POST request (server configuration)
parsers.text.maxLength = 100000k
parsers.text.maxLength = ${?ONS_AI_API_BULK_MAX_POST_SIZE}

log.trace.output = off
logger.play=INFO
logger.application=INFO
